
# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                         Keybinds                            ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

source = ~/.config/hypr/config/defaults.conf
$mainMod=ALT_L

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Gestion des Fenêtres                     ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
bind = $mainMod, W, killactive,                    # Fermer fenêtre
bind = $mainMod, M, togglespecialworkspace,        # Minimiser (special workspace)

# Focus des fenêtres
bind = $mainMod, Q, movefocus, l                   # Focus à gauche
bind = $mainMod, D, movefocus, r                   # Focus à droite

# Cycle entre fenêtres (évite les conflits avec CachyOS SUPER+TAB)
bind = $mainMod SHIFT, bracketleft, cyclenext, prev   # [ - Fenêtre précédente
bind = $mainMod SHIFT, bracketright, cyclenext,       # ] - Fenêtre suivante

# Déplacer les fenêtres
bind = $mainMod SHIFT, Q, movewindow, l            # Déplacer à gauche
bind = $mainMod SHIFT, D, movewindow, r            # Déplacer à droite

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                   Groupes de Fenêtres                       ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
bind = $mainMod, left, togglegroup,                # Toggle groupe actuel
bind = $mainMod, down, moveintogroup, d           # Grouper vers le bas
bind = $mainMod, up, moveintogroup, u             # Grouper vers le haut
bind = $mainMod, right, moveintogroup, r          # Grouper à droite
bind = $mainMod, semicolon, moveoutofgroup,       # Sortir du groupe
bind = $mainMod, bracketleft, changegroupactive, b    # Groupe précédent
bind = $mainMod, bracketright, changegroupactive, f   # Groupe suivant

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                        Redimensionner                       ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
#bind = $mainMod, equal, resizeactive, 50 0         # Élargir horizontalement
#bind = $mainMod, minus, resizeactive, -50 0        # Rétrécir horizontalement
bind = $mainMod SHIFT, equal, resizeactive, 0 50   # Agrandir verticalement
bind = $mainMod SHIFT, underscore, resizeactive, 0 -50  # Rétrécir verticalement

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    États des Fenêtres                       ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
bind = $mainMod, A, togglefloating,                # Toggle flottant (évite conflit CachyOS SUPER+V)
bind = $mainMod, F, fullscreen, 1                  # Fullscreen (évite conflit CachyOS SUPER+F)

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Options du WM                            ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
bind = $mainMod SHIFT, R, forcerendererreload,     # Recharger (évite conflit CachyOS)
bind = $mainMod, P, pin,                           # Épingler fenêtre (évite conflit CachyOS SUPER+Y)

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                        Layouts                              ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
bind = $mainMod, X, layoutmsg, orientationleft     # Flip layout horizontal
bind = $mainMod, Y, layoutmsg, orientationtop      # Flip layout vertical

# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                       Workspaces                            ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
# Aller au workspace (pas de conflit avec CachyOS SUPER+1-9)

# AZERTY - Utilise les vraies touches physiques
bindd = $altMod, ampersand, Switch to workspace 1 (AZERTY &), workspace, 1     # Touche &
bindd = $altMod, eacute, Switch to workspace 2 (AZERTY é), workspace, 2        # Touche é  
bindd = $altMod, quotedbl, Switch to workspace 3 (AZERTY "), workspace, 3      # Touche "
bindd = $altMod, apostrophe, Switch to workspace 4 (AZERTY '), workspace, 4    # Touche '
bindd = $altMod, parenleft, Switch to workspace 5 (AZERTY (), workspace, 5     # Touche (

# Déplacer fenêtre vers workspace AZERTY
bindd = $altMod SHIFT, ampersand, Move to workspace 1 (AZERTY &), movetoworkspacesilent, 1
bindd = $altMod SHIFT, eacute, Move to workspace 2 (AZERTY é), movetoworkspacesilent, 2
bindd = $altMod SHIFT, quotedbl, Move to workspace 3 (AZERTY "), movetoworkspacesilent, 3
bindd = $altMod SHIFT, apostrophe, Move to workspace 4 (AZERTY '), movetoworkspacesilent, 4
bindd = $altMod SHIFT, parenleft, Move to workspace 5 (AZERTY (), movetoworkspacesilent, 5


# ======= Playback Control =======

bindd = , XF86AudioPlay, Toggles play/pause, exec, playerctl play-pause
bindd = , XF86AudioNext, Next track, exec, playerctl next
bindd = , XF86AudioPrev, Previous track, exec, playerctl previous

# ======= Screen Brightness =======

bindel = , XF86MonBrightnessUp, exec, brightnessctl s +5% 	#Increases brightness 5%
bindel = , XF86MonBrightnessDown, exec, brightnessctl s 5%- 	#Decreases brightness 5%
bindd = $mainMod SHIFT, P, Runs the calculator application, exec, gnome-calculator
bindd = $mainMod, L, Lock the screen, exec, swaylock-fancy -e -K -p 10 -f Hack-Regular
bindd = $mainMod, O, Reload/restarts Waybar, exec, killall -SIGUSR2 waybar

# ======= Grouping Windows =======
bindd = $mainMod, K, Toggles current window group mode (ungroup all related), togglegroup,
bindd = $mainMod, Tab, Switches to the next window in the group, changegroupactive, f

# ======= Toggle Gaps =======

bindd = $mainMod SHIFT, G, Set CachyOS default gaps, exec, hyprctl --batch "keyword general:gaps_out 5;keyword general:gaps_in 3"
bindd = $mainMod, G, Remove gaps between window, exec, hyprctl --batch "keyword general:gaps_out 0;keyword general:gaps_in 0"

# ======= Volume Control =======

bindel = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5% && pactl get-sink-volume @DEFAULT_SINK@ | grep -oP '\d+(?=%)' | awk '{if($1>100) system("pactl set-sink-volume @DEFAULT_SINK@ 100%")}' && pactl get-sink-volume @DEFAULT_SINK@ | grep -oP '\d+(?=%)' | awk '{print $1}' | head -1 > /tmp/$HYPRLAND_INSTANCE_SIGNATURE.wob # Raise Volume
bindel = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5% && pactl get-sink-volume @DEFAULT_SINK@ | grep -oP '\d+(?=%)' | awk '{print $1}' | head -1 > /tmp/$HYPRLAND_INSTANCE_SIGNATURE.wob # Lower Volume
bindel = , XF86AudioMute, exec, amixer sset Master toggle | sed -En '/\[on\]/ s/.*\[([0-9]+)%\].*/\1/ p; /\[off\]/ s/.*/0/p' | head -1 > /tmp/$HYPRLAND_INSTANCE_SIGNATURE.wob	#Mutes player audio

bindm = $mainMod, mouse:273, resizewindow	#Resize the window towards a direction
bindm = $mainMod, mouse:272, movewindow		#Drag window
bind = $mainMod, C, centerwindow

bindd = $mainMod, RETURN, Opens your preferred terminal emulator ($terminal), exec, $terminal
bindd = $mainMod, E, Opens your preferred filemanager ($filemanager), exec, $filemanager
bindd = $mainMod SHIFT, M, Exits Hyprland by terminating the user sessions, exec, loginctl termina>
bindd = $mainMod, SPACE, Runs your application launcher, exec, $applauncher
bindd = $mainMod, F, Toggles current window fullscreen mode, fullscreen
bindd = $mainMod, Y, Pin current window (shows on all workspaces),pin

bindd = SUPER SHIFT, S, Rectangle screenshot to clipboard, exec, grim -g "$(slurp)" - | wl-copy



bind = $mainMod, equal, exec, sh -c 'killall -q hyprsunset 2>/dev/null || true; sleep 0.1; temp=$(cat /tmp/hyprsunset_temp 2>/dev/null || echo 6500); new_temp=$((temp - 200)); [ $new_temp -lt 2000 ] && new_temp=2000; echo $new_temp > /tmp/hyprsunset_temp; hyprsunset -t $new_temp & notify-send "Hyprsunset" "Température: ${new_temp}K (plus chaud)" -t 2000'

bind = $mainMod, parenright, exec, sh -c 'killall -q hyprsunset 2>/dev/null || true; sleep 0.1; temp=$(cat /tmp/hyprsunset_temp 2>/dev/null || echo 6500); new_temp=$((temp + 200)); [ $new_temp -gt 6500 ] && new_temp=6500; echo $new_temp > /tmp/hyprsunset_temp; hyprsunset -t $new_temp & notify-send "Hyprsunset" "Température: ${new_temp}K (plus froid)" -t 2000'